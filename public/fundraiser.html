<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Fundraiser Details</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/all.min.css">
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>

  <body>
    <!-- ======================header started====================== -->
    <header>
      <div class="my-nav">
        <div class="container">
          <div class="row">
            <div class="nav-items">
              <div class="logo">
                <img src="assets/images/logo.png">
              </div>
              <div class="menu-toggle">
                <div class="menu-hamburger"></div>
              </div>
              <div class="menu-items">
                <div class="menu">
                  <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="search.html">Search Fundraisers</a></li>
                    <li><a href="services.html">Services</a></li>
                    <li><a href="contact-us.html">Contact Us</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- ======================Main started====================== -->
    <main>
      <section class="fundraiser-details">
        <div class="container">
          <h2>Fundraiser Details</h2>
          <div id="fundraiserInfo" class="mt-3"></div>
          <button id="donateButton" class="btn btn-success mt-3">Donate</button>
        </div>
      </section>
    </main>

    <!-- =====================>>>>>Footer Started>>>>>======================== -->

    <footer>
      <div class="container">
        <div class="row">
          <div class="col-lg-3 col-md-3 col-sm-6 col-6">
            <div class="footer-content">
              <h2>About Us - Smart Charitables</h2>
              <p>We are a dedicated charity organization, working to transform
                the lives of poor children through donations, education,
                healthcare, and advocacy. Join us in our mission to create a
                brighter future.</p>
              <ul>
                <li><i class="fab fa-facebook-f"></i></li>
                <li><i class="fab fa-twitter"></i></li>
                <li><i class="fab fa-google"></i></li>
                <li><i class="fab fa-skype"></i></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-6 col-6">
            <div class="footer-content">
              <h2>Quick Links</h2>
              <ol>
                <li><a href="#"><i
                      class="fal fa-angle-double-right"></i>Home</a></li>
                <li><a href="#"><i class="fal fa-angle-double-right"></i>About
                    Us</a></li>
                <li><a href="#"><i
                      class="fal fa-angle-double-right"></i>Services</a></li>
                <li><a href="#"><i
                      class="fal fa-angle-double-right"></i>Blog</a></li>
                <li><a href="#"><i class="fal fa-angle-double-right"></i>Contact
                    Us</a></li>
              </ol>
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-6 col-6">
            <div class="footer-content">
              <h2>Services</h2>
              <ol>
                <li><a href="#"><i
                      class="fal fa-angle-double-right"></i>Home</a></li>
                <li><a href="#"><i class="fal fa-angle-double-right"></i>About
                    Us</a></li>
                <li><a href="#"><i
                      class="fal fa-angle-double-right"></i>Services</a></li>
                <li><a href="#"><i
                      class="fal fa-angle-double-right"></i>Blog</a></li>
                <li><a href="#"><i class="fal fa-angle-double-right"></i>Contact
                    Us</a></li>
              </ol>
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-6 col-6">
            <div class="footer-content">
              <h2>News Letters</h2>
              <div class="form-group">
                <input class="form-control" role name="email" type="email"
                  placeholder="Enter Your Email">
                <i class="fal fa-paper-plane"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="copy-right">
        <div class="container">
          <div class="copy-right-card">
            <p>2024 @ All Rights Reserved</p>
          </div>
        </div>
      </div>
    </footer>

    <script src="assets/js/jquery-3.2.1.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function () {
  // Get the query string parameter
  const urlParams = new URLSearchParams(window.location.search);
  const fundraiserId = urlParams.get('id');

  // Fetch fundraiser details using the fundraiserId
  fetch(`http://localhost:3000/api/fundraiser/${fundraiserId}`)
    .then(response => response.json())
    .then(data => {
      console.log(data);
      // Assuming data returns an object with the fundraiser details
      const fundraiserInfo = document.getElementById('fundraiserInfo');
      if (data) {
        fundraiserInfo.innerHTML = `
          <p><strong>Caption:</strong> ${data.CAPTION}</p>
          <p><strong>Organizer:</strong> ${data.ORGANIZER}</p>
          <p><strong>City:</strong> ${data.CITY}</p>
          <p><strong>Category:</strong> ${data.categoryName}</p>
          <p><strong>Goal:</strong> $${data.TARGET_FUNDING}</p>
          <p><strong>Current Funding:</strong> $${data.CURRENT_FUNDING}</p>
          <p><strong>Status:</strong> ${data.ACTIVE === 1 ? 'Active' : 'Inactive'}</p>
        `;
      } else {
        fundraiserInfo.innerHTML = '<div class="alert alert-danger">Fundraiser not found.</div>';
      }
    })
    .catch(() => {
      document.getElementById('fundraiserInfo').innerHTML = '<div class="alert alert-danger">Failed to retrieve fundraiser details. Please try again later.</div>';
    });

  // Donate button click handler
  document.getElementById('donateButton').addEventListener('click', function () {
    alert('This feature is under construction.');
  });
});

  </script>
  </body>

</html>